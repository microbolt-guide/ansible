---
# System options
ethernet: eth0
second_disk: false
second_disk_dev: /dev/sdb
second_disk_part: true
second_disk_format: ext4

# Microbolt options
firewall_role: awall # awall or ufw
reverse_proxy_role: caddy # caddy or nginx
bitcoin_role: knots # knots or core
electrum_role: fulcrum # fulcrum or electrs
explorer_role: btcrpc # btcrpc or mempool
lightning_role: lnd # lnd or c-lightning

# Tor options
ssh_tor: false
electrum_tor: false

# Bitcoin options
bitcoin_man: false
bitcoin_rpc_username: microbolt
bitcoin_rpc_password: passwd
bitcoin_dbcache: 4096

# Electrum options
electrum_port_tcp: 50001
electrum_port_ssl: 50002

################################################################################
# Do not edit below this line unless you know what you are doing               #
################################################################################

# Ansible options
ansible_user: satoshi
ansible_become: true
ansible_become_method: doas

# Compile options
env_vars:
  CC: "clang"
  CXX: "clang++"
  CFLAGS: "-O3 -pipe -march=native -fPIE"
  CXXFLAGS: "-O3 -pipe -march=native -fPIE"
  LDFLAGS: "-pie -Wl,--as-needed"
  MAKEFLAGS: "-j$(nproc)"
  CARGO_HOME: "./.cargo"
  npm_config_cache: "./npm-cache"
  npm_config_devdir: "./.gyp"
  ROCKSDB_INCLUDE_DIR: "/usr/include"
  ROCKSDB_LIB_DIR: "/usr/lib"
  PROTOC: "protoc-c"

# Caddy options
caddy_base_url: https://github.com/caddyserver/caddy/releases/download/v{{ caddy_version }}

# Bitcoin options
bitcoin_base_url: >-
  {%- if bitcoin_role == 'knots' -%}
    https://bitcoin{{ bitcoin_role }}.org/files/{{ bitcoin_version | regex_replace('\..*$', '') }}.x/{{ bitcoin_version }}
  {%- elif bitcoin_role == 'core' -%}
    https://bitcoin{{ bitcoin_role }}.org/bin/bitcoin-{{ bitcoin_role }}-{{ bitcoin_version }}
  {%- endif -%}
bitcoin_keys_url: >-
  {%- if bitcoin_role == 'knots' -%}
    https://api.github.com/repos/bitcoinknots/guix.sigs/contents/builder-keys
  {%- elif bitcoin_role == 'core' -%}
    https://api.github.com/repositories/355107265/contents/builder-keys
  {%- endif -%}
bitcoin_config_options:
  - assumevalid=0
  - blockfilterindex=1
  - blocksonly=1
  - coinstatsindex=1
  - dbcache={{ bitcoin_dbcache }}
  - txindex=1
  - i2psam=127.0.0.1:7656
  - onion=127.0.0.1:9050
  - peerblockfilters=1
  - peerbloomfilters=1
  - zmqpubhashblock=tcp://127.0.0.1:8433
  - zmqpubrawblock=tcp://127.0.0.1:28332
  - zmqpubrawtx=tcp://127.0.0.1:28333
  - datacarrier=0
  - permitbaremultisig=0
  - debug=i2p
  - debug=tor
  - server=1

# Electrum options
fulcrum_keys_url: https://raw.githubusercontent.com/Electron-Cash/keys-n-hashes/master/pubkeys/calinkey.txt
fulcrum_config_options:
  - "#datadir = /path/to/a/dir"
  - "#rpcuser = Bob_The_Banker"
  - "#rpcpassword = hunter1"
  - "rpccookie = /var/lib/bitcoind/.cookie"
  - "tcp = 0.0.0.0:{{ electrum_port_tcp }}"
  - "banner = /etc/fulcrum/banner.txt"
  - "peering = false"

electrs_keys_url: https://romanzey.de/pgp.txt
electrs_config_options:
  - "cookie_file = \"/var/lib/bitcoind/.cookie\""
  - "#db_dir = \"/some/fast/storage/with/big/size\""
  - "daemon_dir = \"/var/lib/bitcoind\""